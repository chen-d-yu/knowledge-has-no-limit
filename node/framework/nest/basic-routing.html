<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nest 基本路由 | 左右</title>
    <meta name="description" content="为学日益，为道日损">
    <link rel="preload stylesheet" href="/knowledge-has-no-limit/assets/style.c71b22ad.css" as="style">
    <script type="module" src="/knowledge-has-no-limit/assets/app.a0012dad.js"></script>
    <link rel="preload" href="/knowledge-has-no-limit/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/knowledge-has-no-limit/assets/chunks/framework.a932675b.js">
  <link rel="modulepreload" href="/knowledge-has-no-limit/assets/chunks/theme.9f5863a0.js">
  <link rel="modulepreload" href="/knowledge-has-no-limit/assets/node_framework_nest_basic-routing.md.403c7537.lean.js">
  <link rel="apple-touch-icon" href="/favicon.ico">
  <link rel="icon" href="https://minio.sciento.cn/st-public/2/b125b88be9984dc0a42ce7d2adecdd98@logo.svg">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="loading-page" style="--bc3791ca:#fff;--bd522a5e:transparent;--08d99259:1px solid transparent;--949c14ce:#fff;--6cd9d4ea:calc(var(--vp-nav-height) + var(--vp-layout-top-height, 0px) + 1px - 0px);--f61b7748:#fff;--65b8000e:initial;--7a1f6c3e:blur(20px);--c66e9c90:#fff;--519d84b0:#fff;" data-v-d604a3ee data-v-c484eabc><div class="loading-box" data-v-c484eabc><p data-v-c484eabc>加载中...</p></div></div><div class="Layout" style="--bc3791ca:#fff;--bd522a5e:transparent;--08d99259:1px solid transparent;--949c14ce:#fff;--6cd9d4ea:calc(var(--vp-nav-height) + var(--vp-layout-top-height, 0px) + 1px - 0px);--f61b7748:#fff;--65b8000e:initial;--7a1f6c3e:blur(20px);--c66e9c90:#fff;--519d84b0:#fff;" data-v-d604a3ee data-v-b2cf3e0b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8616af1></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8616af1> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b2cf3e0b data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-1d30fa41><div class="container" data-v-1d30fa41><div class="title" data-v-1d30fa41><div class="VPNavBarTitle has-sidebar" data-v-1d30fa41 data-v-f4ef19a3><a class="title" href="/knowledge-has-no-limit/" data-v-f4ef19a3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/knowledge-has-no-limit/logo.svg" alt data-v-6db2186b><!--]--><!--[-->左右<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-1d30fa41><div class="curtain" data-v-1d30fa41></div><div class="content-body" data-v-1d30fa41><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1d30fa41 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> 键入佳境 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/knowledge-has-no-limit/coding/fe/javascript/advanced/new" data-v-d2c93bab data-v-8f4dc553><!--[-->Javascript<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> server <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><p class="title" data-v-69e747b5>framework</p><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-d2c93bab><a class="VPLink link" href="/knowledge-has-no-limit/node/framework/nest/environment-setup" data-v-d2c93bab data-v-8f4dc553><!--[-->nest<!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/knowledge-has-no-limit/tools" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->tools<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/knowledge-has-no-limit/tricks" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->保安工作日记<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-1d30fa41 data-v-f6a63727><label title="toggle dark mode" data-v-f6a63727 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1d30fa41 data-v-0394ad82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/chen-d-yu/knowledge-has-no-limit" aria-label target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg t="1683559093051" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10707" width="200" height="200"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9 23.5 23.2 38.1 55.4 38.1 91v112.5c0.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z" p-id="10708" fill="#46b980"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1d30fa41 data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>外观</p><div class="appearance-action" data-v-40855f84><label title="toggle dark mode" data-v-40855f84 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/chen-d-yu/knowledge-has-no-limit" aria-label target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg t="1683559093051" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10707" width="200" height="200"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9 23.5 23.2 38.1 55.4 38.1 91v112.5c0.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z" p-id="10708" fill="#46b980"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1d30fa41 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-b2cf3e0b data-v-f5a2ca58><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f5a2ca58><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-f5a2ca58><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-f5a2ca58>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f5a2ca58 data-v-079b16a8><button data-v-079b16a8>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-b2cf3e0b data-v-139a1f1d><div class="curtain" data-v-139a1f1d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-139a1f1d><span class="visually-hidden" id="sidebar-aria-label" data-v-139a1f1d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-139a1f1d><div class="VPSidebarItem level-0" data-v-139a1f1d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><p class="text" data-v-c4656e6d>framework</p><!----></div><!----></div></div><div class="group" data-v-139a1f1d><section class="VPSidebarItem level-0 collapsible has-active" data-v-139a1f1d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Nest初探：编程的第一步</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/environment-setup" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>环境搭建</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/mvc" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>MVC架构</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/decorator" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>装饰器</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/http-protocol" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>HTTP协议</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/basic-routing" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>HelloWorld</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/IoC-DI" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Nest设计模式</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/controller" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>控制器</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/pipes" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>管道</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/middlewares" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>中间件</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/exception-filters" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>异常过滤器</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/interceptors" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>拦截器</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/guards" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>守卫</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/provider" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>服务提供者</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/framework/nest/module" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>模块</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-139a1f1d><section class="VPSidebarItem level-0" data-v-139a1f1d data-v-c4656e6d><!----><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 collapsible collapsed" data-v-c4656e6d data-v-c4656e6d><div class="item" role="button" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><p class="text" data-v-c4656e6d>Nest深入：探索代码之路</p><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/knowledge-has-no-limit/node/" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>node基础</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-b2cf3e0b data-v-a494bd1d><div class="VPDoc has-sidebar has-aside" data-v-a494bd1d data-v-c4b0d3cf><!--[--><!--]--><div class="container" data-v-c4b0d3cf><div class="aside" data-v-c4b0d3cf><div class="aside-curtain" data-v-c4b0d3cf></div><div class="aside-container" data-v-c4b0d3cf><div class="aside-content" data-v-c4b0d3cf><div class="VPDocAside" data-v-c4b0d3cf data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>本页目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-8f12e865><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c4b0d3cf><div class="content-container" data-v-c4b0d3cf><!--[--><!--]--><!----><main class="main" data-v-c4b0d3cf><div style="position:relative;" class="vp-doc _knowledge-has-no-limit_node_framework_nest_basic-routing" data-v-c4b0d3cf><div><h1 id="nest-基本路由" tabindex="-1"><code>Nest</code> 基本路由 <a class="header-anchor" href="#nest-基本路由" aria-label="Permalink to &quot;`Nest` 基本路由&quot;">​</a></h1><p>路由是指确定应用程序如何响应客户端对特定端点的请求，该端点是 <code>URI</code>（或路径）和特定的 <code>HTTP</code> 请求方法（<code>GET、POST</code> 等）。</p><h2 id="第一个-nestjs-项目" tabindex="-1">第一个 <code>Nestjs</code> 项目 <a class="header-anchor" href="#第一个-nestjs-项目" aria-label="Permalink to &quot;第一个 `Nestjs` 项目&quot;">​</a></h2><p>使用 <code>Nest CLI</code> 创建第一个 <code>Nestjs</code> 项目 <code>hello-world</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nest</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">new</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">hello-world</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装时，您将看到以下提示：</p><p><img src="/knowledge-has-no-limit/assets/image-20240107185109019.67849195.png" alt="image-20240107185109019"></p><p>等待一段时间，脚手架会创建一个初始项目结构，生成初始的项目文件模板。</p><h2 id="平台" tabindex="-1">平台 <a class="header-anchor" href="#平台" aria-label="Permalink to &quot;平台&quot;">​</a></h2><p><code>Nestjs</code> 现成支持的两个 <code>Nodejs</code> 平台：<code>Express和fastify</code>。<code>Nestjs</code> 默认使用 <code>Express</code> 作为基础的支持框架。</p><p>在 <code>main.ts</code> 中，<code>NestFactory.create(AppModule)</code> 创建的 <code>App</code> 实例，可以传递类型指明使用的平台，理论上来说，只要创建了适配器，<code>Nest</code> 可以和任何 <code>node.js</code> 的 <code>HTTP</code> 框架一起工作，比如 <code>fastify</code> 实现了 <code>FastifyAdapter</code> ，那么就可以在 <code>Nest</code> 中使用它了。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><ul><li><code>NestExpressApplication</code> 由 <code>@nestjs/platform-express</code> 导出</li><li><code>NestFastifyApplication</code> 由 <code>@nestjs/platform-fastify</code> 导出</li></ul></div><h2 id="运行" tabindex="-1">运行 <a class="header-anchor" href="#运行" aria-label="Permalink to &quot;运行&quot;">​</a></h2><p>安装完成后，在终端运行以下命令，启动 <code>Nest</code> 应用程序：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>此命令启动 <code>HTTP</code> 服务监听定义在 <code>src/main.ts</code> 文件中定义的端口号。在应用程序运行后, 打开浏览器并访问 <code>http://localhost:3000/</code>。 你应该看到 <code>Hello world!</code> 。</p><p><img src="/knowledge-has-no-limit/assets/image-20240107190527554.339f4144.png" alt="image-20240107190527554"></p><p>要持续监听文件的修改，自动重新编译并重新加载服务器，可以运行以下命令来启动程序：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start:dev</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="创建一个-nest-应用" tabindex="-1">创建一个 <code>Nest</code> 应用 <a class="header-anchor" href="#创建一个-nest-应用" aria-label="Permalink to &quot;创建一个 `Nest` 应用&quot;">​</a></h2><p>每个 <code>Nest</code> 应用是通过 <code>NestFactory.create</code> 方法创建的新的应用实例，每次调用需要传递一个根模块，其他的模块作为其子模块。</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">bootstrap</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">NestFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">AppModule</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">3000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>打开 <code>AppModule</code> ，根模块提供了用来启动应用的引导机制，可以包含很多功能模块。</p><ul><li><p>providers：<code>Nest.js</code>注入器实例化的提供者（服务提供者），处理具体的业务逻辑，各个模块之间可以共享（<em>注入器的基础概念在<a href="./IoC-DI#ioc-和-di"><code>Nest</code> 设计模式</a>会学习，以及后续补充提供者的概念</em>）；</p></li><li><p>controllers：处理http请求，包括路由控制，向客户端返回响应，将具体业务逻辑委托给providers处理；</p></li><li><p>imports：导入模块的列表，如果需要使用其他模块的服务，需要通过这里导入；</p></li><li><p>exports：导出服务的列表，供其他模块导入使用。如果希望当前模块下的服务可以被其他模块共享，需要在这里配置导出；</p></li></ul><hr><p>第一个 <code>HelloWorld</code> 程序，完全按照前后端分离的 <code>MVC</code> 模式来编写的。接触过 <code>Java</code> 的读者就会感到熟悉，<code>Nestjs</code> 和 <code>Spring MVC</code> 长得非常相似。</p><ul><li><code>Controller</code>：传统意义上的控制器，提供 api 接口，负责处理路由、中转、验证等一些简洁的业务；</li><li><code>Service</code>：又称为 <code>Provider</code>， 是一系列服务、repo、工厂方法、helper 的总称，主要负责处理具体的业务，如数据库的增删改查、事务、并发等逻辑代码；</li><li><code>Module</code>：负责将 <code>Controller</code> 和 <code>Service</code> 连接起来，类似于 <code>namespace</code> 的概念，你可以把模块看做一个“封闭的盒子“，控制器看做盒子的入口，服务提供者看做盒子里的工具。封闭也就意味着如果不向外界提供服务，外界的模块无法使用封闭的盒子的工具，这就是提供其他模块使用的服务，要在 <code>exports</code> 中导出的原因。</li></ul><h2 id="新增模块" tabindex="-1">新增模块 <a class="header-anchor" href="#新增模块" aria-label="Permalink to &quot;新增模块&quot;">​</a></h2><p>通过新增 <code>User</code> 模块来进行实战，模拟用户发送请求获取数据的操作。</p><p>使用 <code>Nest CLI</code> 提供的命令可以快速生成文件：</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nest</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">g</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">res</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">user</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--no-spec</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果不知道命令的话，可以使用以下命令查询或者去 <a href="https://docs.nestjs.com/cli/usages#nest-generate" target="_blank" rel="noreferrer">用法-CLI </a> 查看：</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">nest </span><span style="color:#89DDFF;">--</span><span style="color:#BABED8;">help</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>脚手架会帮我们生成文件，并将 <code>User</code> 模块自动注册，注入到根模块的 <code>imports</code> 数组中。</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Module</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">imports</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [UserModule]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">controllers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [AppController]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">providers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [AppService]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">AppModule</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="module" tabindex="-1">Module <a class="header-anchor" href="#module" aria-label="Permalink to &quot;Module&quot;">​</a></h3><p>使用指令创建文件，<code>Nest CLI</code> 自动生成相关文件，并将它们完成注册。</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Module</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">controllers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [UserController]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">providers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [UserService]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">UserModule</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果选择手动创建，我们也只需要按照上面的格式，将服务、控制器注入到模块，并将定义好的模块导入到 <code>AppModule</code> 的 <code>imports</code> 数组中即可。</p><h3 id="controller" tabindex="-1">Controller <a class="header-anchor" href="#controller" aria-label="Permalink to &quot;Controller&quot;">​</a></h3><p>最初的控制器只有一个 <code>@Controller</code> 装饰器，接下来我们需要在 <code>UserController</code> 中填充路由方法。<code>@Controller</code> 传递一个 <code>path</code> 参数，作为该控制器的路由前缀</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Controller</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Controller</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">UserController</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在控制器中使用 <a href="./http-protocol#restful-接口规范">请求方法</a> 的装饰器并填充路由。</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Controller</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">UserController</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">readonly</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">userService</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">UserService</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Get</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">findAll</span><span style="color:#89DDFF;">():</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#BABED8;">[] </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>@Get</code> 装饰器表示当前的 <code>findAll</code> 是只能通过 <code>Get</code> 请求才能访问的方法。</p><h3 id="service" tabindex="-1">Service <a class="header-anchor" href="#service" aria-label="Permalink to &quot;Service&quot;">​</a></h3><p>接下来我们需要填充业务方法 <code>UserService.findAll</code> 。（这里用 <code>Mockjs</code> 模拟数据返回）</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Injectable</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nestjs/common</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#BABED8;"> Mock </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mockjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">Injectable</span><span style="color:#BABED8;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">UserService</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">findAll</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">Mock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mock</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">list|10</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">id|+1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@cname</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          email</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@email</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>打开浏览器输入 <code>http://localhost:3000/user</code> 进行访问，出现以下结果，表示模块新增完成：</p><p><img src="/knowledge-has-no-limit/assets/image-20240107235755807.6c4a54a7.png" alt="image-20240107235755807"></p></div></div></main><footer class="VPDocFooter" data-v-c4b0d3cf data-v-face870a><!--[--><!--]--><div class="edit-info" data-v-face870a><!----><div class="last-updated" data-v-face870a><p class="VPLastUpdated" data-v-face870a data-v-7b3ebfe1>上次更新于: <time datetime="2024-09-10T10:29:25.000Z" data-v-7b3ebfe1></time></p></div></div><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/knowledge-has-no-limit/node/framework/nest/http-protocol" data-v-face870a><span class="desc" data-v-face870a>上一篇</span><span class="title" data-v-face870a>HTTP协议</span></a></div><div class="has-prev pager" data-v-face870a><a class="pager-link next" href="/knowledge-has-no-limit/node/framework/nest/IoC-DI" data-v-face870a><span class="desc" data-v-face870a>下一篇</span><span class="title" data-v-face870a>Nest设计模式</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-b2cf3e0b data-v-2f86ebd2><div class="container" data-v-2f86ebd2><p class="message" data-v-2f86ebd2>如有转载或 CV 的请标注本站原文地址</p><p class="copyright" data-v-2f86ebd2>Copyright © 2019-present</p></div></footer><!--[--><!--]--></div><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"coding_fe_javascript_advanced_attr-desc.md\":\"30f6f097\",\"node_framework_nest_controller.md\":\"4eb4265b\",\"node_framework_nest_decorator.md\":\"c1b1face\",\"node_framework_nest_dto.md\":\"e8227628\",\"node_framework_nest_environment-setup.md\":\"9c946ad3\",\"coding_fe_framework_react_class-component.md\":\"a268396d\",\"coding_fe_framework_react_errors-bounds.md\":\"c2897144\",\"coding_fe_framework_react_function-component.md\":\"12affe7e\",\"coding_fe_framework_react_index.md\":\"6421b66d\",\"coding_fe_framework_react_quick-start.md\":\"a1f4c617\",\"coding_fe_framework_react_react-router.md\":\"9b4da737\",\"coding_fe_framework_react_redux.md\":\"88934c9e\",\"coding_fe_framework_react_render.md\":\"a344a0d0\",\"coding_fe_framework_vue3.md\":\"52cae0bb\",\"coding_fe_html_css_css.md\":\"f768aff8\",\"coding_fe_html_css_html.md\":\"792c0b86\",\"coding_fe_javascript_advanced_arrow-func.md\":\"a13e3b7b\",\"coding_fe_javascript_gossip_prototype.md\":\"82d01f62\",\"coding_fe_typescript_base.md\":\"1a3a1c91\",\"coding_fe_typescript_config.md\":\"a9e44019\",\"coding_fe_typescript_gymnastics.md\":\"4270611a\",\"coding_skill_algo.md\":\"44a01f7a\",\"index.md\":\"4ad4d9e5\",\"node_framework_nest_interceptors.md\":\"9e936541\",\"node_framework_nest_ioc-di.md\":\"bab3d7f2\",\"node_framework_nest_authorization.md\":\"ea034d6e\",\"node_framework_nest_basic-routing.md\":\"403c7537\",\"node_framework_nest_middlewares.md\":\"e7c6b7b3\",\"node_framework_nest_module.md\":\"0ed7a998\",\"node_framework_nest_mvc.md\":\"817961a0\",\"node_framework_nest_nest-actual-combat.md\":\"613f5711\",\"coding_fe_javascript_advanced_b-r-p.md\":\"4270327d\",\"coding_fe_javascript_base_func.md\":\"645bf95f\",\"coding_fe_javascript_es6_storage.md\":\"c129537a\",\"node_framework_nest_pipes.md\":\"ae548f26\",\"node_framework_nest_provider-scope.md\":\"025ae207\",\"node_framework_nest_provider.md\":\"69c2afe3\",\"node_index.md\":\"a30437ab\",\"tools_index.md\":\"d4299be3\",\"tools_log4j.md\":\"5684b70f\",\"tools_rx_analysis.md\":\"f8933280\",\"tools_rx_basic.md\":\"876e0da0\",\"tools_rx_index.md\":\"f80b528c\",\"tricks_index.md\":\"3862c17b\",\"coding_fe_javascript_advanced_this.md\":\"89092e74\",\"coding_fe_javascript_advanced_new.md\":\"1abc7f62\",\"coding_fe_javascript_gossip_promise.md\":\"5eeda4c1\",\"node_framework_nest_http-protocol.md\":\"e581943b\",\"node_framework_nest_exception-filters.md\":\"160e3d37\",\"node_framework_nest_guards.md\":\"4e225785\",\"node_framework_nest_nest.md\":\"5f2b726c\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"左右\",\"description\":\"为学日益，为道日损\",\"base\":\"/knowledge-has-no-limit/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"键入佳境\",\"items\":[{\"text\":\"Javascript\",\"link\":\"/coding/fe/javascript/advanced/new\"}],\"activeMatch\":\"^/coding\"},{\"text\":\"server\",\"items\":[{\"text\":\"framework\",\"items\":[{\"text\":\"nest\",\"link\":\"/node/framework/nest/environment-setup\"}]}],\"activeMatch\":\"^/node\"},{\"text\":\"tools\",\"link\":\"/tools\",\"activeMatch\":\"^/tools\"},{\"text\":\"保安工作日记\",\"link\":\"/tricks\",\"activeMatch\":\"^/tricks\"}],\"sidebar\":{\"/coding/\":[{\"text\":\"html&css\",\"items\":[{\"text\":\"HTML\",\"link\":\"/coding/fe/html&css/html\"},{\"text\":\"CSS\",\"link\":\"/coding/fe/html&css/css\"}]},{\"text\":\"javascript\",\"items\":[{\"text\":\"大话系列\",\"collapsed\":true,\"items\":[{\"text\":\"大话 Promise\",\"link\":\"/coding/fe/javascript/gossip/promise\"},{\"text\":\"大话原型链\",\"link\":\"/coding/fe/javascript/gossip/prototype\"}]},{\"text\":\"基础\",\"collapsed\":true,\"items\":[{\"text\":\"函数\",\"link\":\"/coding/fe/javascript/base/func\"}]},{\"text\":\"进阶\",\"collapsed\":true,\"items\":[{\"text\":\"箭头函数\",\"link\":\"/coding/fe/javascript/advanced/arrow-func\"},{\"text\":\"属性描述符\",\"link\":\"/coding/fe/javascript/advanced/attr-desc\"},{\"text\":\"浏览器渲染原理\",\"link\":\"/coding/fe/javascript/advanced/b-r-p\"},{\"text\":\"new关键字\",\"link\":\"/coding/fe/javascript/advanced/new\"},{\"text\":\"this\",\"link\":\"/coding/fe/javascript/advanced/this\"}]}]},{\"text\":\"es6\",\"collapsed\":true,\"items\":[{\"text\":\"storage 本地存储\",\"link\":\"/coding/fe/javascript/es6/storage\"}]},{\"text\":\"typescript\",\"items\":[{\"text\":\"基础\",\"link\":\"/coding/fe/typescript/base\"},{\"text\":\"配置\",\"link\":\"/coding/fe/typescript/config\"},{\"text\":\"类型体操\",\"link\":\"/coding/fe/typescript/gymnastics\"}]},{\"text\":\"Vue3\",\"link\":\"/coding/fe/framework/vue3\"},{\"text\":\"Data Structures and Algorithms\",\"items\":[{\"text\":\"算法\",\"link\":\"/coding/skill/algo\"}]}],\"/node/\":[{\"text\":\"framework\",\"items\":[]},{\"text\":\"Nest初探：编程的第一步\",\"collapsed\":true,\"items\":[{\"text\":\"环境搭建\",\"link\":\"/node/framework/nest/environment-setup\"},{\"text\":\"MVC架构\",\"link\":\"/node/framework/nest/mvc\"},{\"text\":\"装饰器\",\"link\":\"/node/framework/nest/decorator\"},{\"text\":\"HTTP协议\",\"link\":\"/node/framework/nest/http-protocol\"},{\"text\":\"HelloWorld\",\"link\":\"/node/framework/nest/basic-routing\"},{\"text\":\"Nest设计模式\",\"link\":\"/node/framework/nest/IoC-DI\"},{\"text\":\"控制器\",\"link\":\"/node/framework/nest/controller\"},{\"text\":\"管道\",\"link\":\"/node/framework/nest/pipes\"},{\"text\":\"中间件\",\"link\":\"/node/framework/nest/middlewares\"},{\"text\":\"异常过滤器\",\"link\":\"/node/framework/nest/exception-filters\"},{\"text\":\"拦截器\",\"link\":\"/node/framework/nest/interceptors\"},{\"text\":\"守卫\",\"link\":\"/node/framework/nest/guards\"},{\"text\":\"服务提供者\",\"link\":\"/node/framework/nest/provider\"},{\"text\":\"模块\",\"link\":\"/node/framework/nest/module\"}]},{\"text\":\"Nest深入：探索代码之路\",\"collapsed\":true},{\"text\":\"node基础\",\"link\":\"/node/\"}],\"/tools/\":[{\"text\":\"log4js\",\"link\":\"/tools/log4j\"}],\"/tricks/\":[]},\"outline\":{\"level\":\"deep\",\"label\":\"本页目录\"},\"socialLinks\":[{\"icon\":{\"svg\":\"<svg t=\\\"1683559093051\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"10707\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9 23.5 23.2 38.1 55.4 38.1 91v112.5c0.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z\\\" p-id=\\\"10708\\\" fill=\\\"#46b980\\\"></path></svg>\"},\"link\":\"https://github.com/chen-d-yu/knowledge-has-no-limit\"}],\"lastUpdatedText\":\"上次更新于\",\"darkModeSwitchLabel\":\"外观\",\"returnToTopLabel\":\"返回顶部\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"footer\":{\"message\":\"如有转载或 CV 的请标注本站原文地址\",\"copyright\":\"Copyright © 2019-present\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}")</script>
    
  </body>
</html>